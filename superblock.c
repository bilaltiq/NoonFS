// ==================================================================================================================================
/**
 * The superblock functions.
 *
 * \file superblock.c
 **/
// ==================================================================================================================================



// ==================================================================================================================================
// INCLUDES

#include <assert.h>
#include "superblock.h"
// ==================================================================================================================================




// ==================================================================================================================================
void initialize_superblock (block_device_s* bd) {

  // Grab a pointer to the superblock.
  assert(bd != NULL);
  superblock_s* sb = bd_block_to_ptr(bd, SUPERBLOCK_BLOCK);

  // These values will never change.
  sb->magic_cookie    = 0xfeedface;
  sb->length          = bd->length;

  // These values will be changed by later initialization and use.
  sb->bitmap_block    = 0;
  sb->directory_block = 0;
  sb->mra_block       = 0;

} // format_superblock ()
// ==================================================================================================================================
